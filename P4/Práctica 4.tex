%%%%
% Modificación de una plantilla de Latex para adaptarla al castellano.
%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Thin Sectioned Essay
% LaTeX Template
% Version 1.0 (3/8/13)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Original Author:
% Nicolas Diaz (nsdiaz@uc.cl) with extensive modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[a4paper, 11pt]{article} % Font size (can be 10pt, 11pt or 12pt) and paper size (remove a4paper for US letter paper)

\usepackage[protrusion=true,expansion=true]{microtype} % Better typography
\usepackage{graphicx} % Required for including pictures
\usepackage[usenames,dvipsnames]{color} % Coloring code
\usepackage{wrapfig} % Allows in-line images
\usepackage[utf8]{inputenc}
\usepackage{enumerate}
\usepackage{enumitem}

% Imágenes
\usepackage{graphicx} 

\usepackage{amsmath}
% para importar svg
%\usepackage[generate=all]{svgfig}

% sudo apt-get install texlive-lang-spanish
\usepackage[spanish]{babel} % English language/hyphenation
\selectlanguage{spanish}
% Hay que pelearse con babel-spanish para el alineamiento del punto decimal
\decimalpoint
\usepackage{dcolumn}
\newcolumntype{d}[1]{D{.}{\esperiod}{#1}}
\makeatletter
\addto\shorthandsspanish{\let\esperiod\es@period@code}
\makeatother

\usepackage{longtable}
\usepackage{tabu}
\usepackage{supertabular}

\usepackage{multicol}
\newsavebox\ltmcbox

% Símbolos matemáticos
\usepackage{amssymb}
\let\oldemptyset\emptyset
\let\emptyset\varnothing

%URL's en comentarios
\usepackage{url}

\usepackage[section]{placeins} % Para gráficas en su sección.
\usepackage{mathpazo} % Use the Palatino font
\usepackage[T1]{fontenc} % Required for accented characters
\newenvironment{allintypewriter}{\ttfamily}{\par}
\setlength{\parindent}{0pt}
\parskip=8pt
\linespread{1.05} % Change line spacing here, Palatino benefits from a slight increase by default

\makeatletter
\renewcommand\@biblabel[1]{\textbf{#1.}} % Change the square brackets for each bibliography item from '[1]' to '1.'
\renewcommand{\@listI}{\itemsep=0pt} % Reduce the space between items in the itemize and enumerate environments and the bibliography
\newcommand{\imagen}[2]{\begin{center} \includegraphics[width=90mm]{#1} \\#2 \end{center}}

\renewcommand{\maketitle}{ % Customize the title - do not edit title and author name here, see the TITLE block below
\begin{flushright} % Right align
{\LARGE\@title} % Increase the font size of the title

\vspace{60pt} % Some vertical space between the title and author name

{\large\@author} % Author name
\\\@date % Date

\vspace{40pt} % Some vertical space between the author block and abstract
\end{flushright}
}
\usepackage[hidelinks]{hyperref}

  % Para las enumeraciones anidadas y sus referencias, basado en http://stackoverflow.com/questions/691351/how-to-customize-references-to-sublists-in-latex
  \renewcommand{\theenumi}{\arabic{enumi}.}
  \renewcommand{\theenumii}{\arabic{enumii}}
  \renewcommand{\theenumiii}{\arabic{enumiii}}
  
  \renewcommand{\labelenumi}{\theenumi}
  \renewcommand{\labelenumii}{\theenumi\theenumii.}
  \renewcommand{\labelenumiii}{\theenumi\theenumii.\theenumiii.}
  
  \makeatletter
  \renewcommand{\p@enumii}{\theenumi}
  \renewcommand{\p@enumiii}{\theenumi\theenumii.}
%----------------------------------------------------------------------------------------
%	TITLE
%----------------------------------------------------------------------------------------

\title{\textbf{Práctica 3}\\ % Title
} % Subtitle

\author{\textsc{José Carlos Entrena} % Author
\\{\textit{Universidad de Granada}}} % Institution

\date{\today} % Date

%----------------------------------------------------------------------------------------

\begin{document}

\maketitle % Imprime el título.

{\parskip=2pt
  \tableofcontents
}   % Índice.

\pagebreak % Cierra la página.

\section{Resolución de los ejercicios}

\subsection{Ejercicio 1}
Instale Phoronix Suite, seleccione un benchmark de entre los disponibles, descárguelo y ejecútelo. Describa el propósito del benchmar y su interés en el mismo. Explique razonadamente el significado de los resultados obtenidos. 

Para instalar Phoronix Suite en Ubuntu, lo hago con la orden sudo apt-get install phoronix-test-suite. Una vez instalado el paquete, en la página de referencia se nos dice que editemos el archivo '/usr/share/phoronix-test-suite/pts-core/external-test-dependencies/scripts/install-ubuntu-packages.sh'. Realizado el cambio que se nos dice, ejecutamos la órden 'phoronix-test-suite list-available-suites' y buscamos un benckmark que queramos ejecutar. En mi caso voy a elegir el benchmark "chess", ya que las dependencias necesarias para poder ejecutarlo eran pocas y no quería tener que instalas demasiadas (para otros benchmarks, como el de disco, era necesario casi 1GB de instalación extra). La ejecución se hará mediante el comando 'phoronix-test-suite benchmark chess' ejecutamos el benchmark. 

\begin{figure}[htpb]
\centering
\includegraphics[height=8cm]{../../../benchmarks}
\caption{Algunos de los benchmarks disponibles.}
\end{figure}

Una vez finalizado el benchmark, Phoronix nos pregunta si queremos ver los resultados en el navegador web. En la siguiente figura se puede ver un extracto del resultado: 

\begin{figure}[htpb]
\centering
\includegraphics[height=5cm]{../../../navegador}
\caption{Resultados.}
\end{figure}

Toda la información necesaria ha sido sacada de \url{https://wiki.ubuntu.com/PhoronixTestSuite}

\subsection{Ejercicio 2}
Instale una de las aplicaciones de benchmark: SisoftSandra o Aida. Seleccione un benchmark y ejecútelo. Describa el propósito del benchmark y su interés en el mismo. Explique razonadamente el significado de los resultados obtenidos. 

He instalado Aida, simplemente yendo a la página de descarga, descargando el instalador y ejecutándolo. 
 
Una vez iniciada la versión de prueba, vamos al apartado de benchmark y seleccionamos el que queremos dentro de los disponibles. Yo he elegido uno de copia en memoria porque me interesaba ver la comparación con el resto de memorias de los datos que trae el programa. Podemos ver los resultados en la siguiente figura: 

\begin{figure}[htpb]
\centering
\includegraphics[height=9cm]{../../../BW}
\caption{Recopilación de datos.}
\end{figure}

Podemos ver los resultados ordenados de mejor a peor, contando con varios correspondientes a máquinas ajenas a la nuestra (datos que vienen con el programa y que sirven para comparar nuestra máquina con otras) y el resultado de nuestra máquina, con algunas características de ellas (en algunos lugares no nos deja verlas, sino que pone [TRIAL VERSION]). El primer dato que vemos será el resultado del benchmark, que en este caso se refiere a la velocidad de copia en memoria. 

\subsection{Ejercicio 3}
Desarrolle un benchmark. 

a) Explicación

He decidido crear un benchmark que analice la velocidad de transferencia de archivos a distintos dispositivos, tanto externos como internos. En particular, voy a considerar una tarjeta SD (conectada mendiante un adaptador), un lápiz USB, el disco duro en el que me encuentro trabajando y una partición del disco duro en la que tengo otro sistema operativo, previamente montada. Voy a analizar la transferencia de archivos para un archivo de gran tamaño (1.5GB), que en mi caso es usado una imagen ISO. El interés de este benchmark es conocer que método de transferencia es más veloz que los otros, y si esta diferencia es verdaderamente representativa, aunque casi con total seguridad los dispositivos externos sean más lentos que los internos. No obstante, puede ser de interés saber si esta diferencia es realmente grande, si existe una gran diferencia entre una copia local y otra a una partición de otro S.O., y también si la velocidad para tarjetas SD y USB es distinta de una forma significativa. 

Para el benchmark utilizaré un script en bash, pues me permite realizar la copia del archivo con una única orden, y también medir los tiempos y dirigirlos a un archivo .csv de manera sencilla. El benchmark tomará 5 argumentos: el archivo a copiar y las rutas de los cuatro destinos, que tendrán que estar previamente montados (salvo la copia local, que no lo necesita). 

b) Ejecución y análisis de resultados. 

Una vez ejecutado el benchmark, obtenemos los resultados en un archivo llamado 'resultados.csv'. Los resultados han sido los siguientes (después de tomar tres medidas y calcular la media)\footnote{Los datos estaban recogidos en nanosegundos, aunque los he modificado para poder observarlos mejor. De igual forma, los datos han sido recogidos por separado y puestos en común en un archivo .csv, ya que el script bash elimina los resultados anteriores. Después de ejecutar el benchmark 3 veces he tomado la media aritmética de los resultados. Todo esto se incluye en un archivo de Excel adjunto al trabajo.}: 

\begin{tabbing}
\hspace*{4cm} \= \hspace*{6cm} \kill
Destino \> Tiempo (en segundos) \\
Tarjeta SD \> 163.990067 \\
USB \> 222.8941951 \\
Disco Duro local \> 56.75140534 \\
Disco Duro montado \> 56.00242117 \\
\end{tabbing}

Con la ayuda de RStudio analizaremos los datos para comprobar si la diferencia es significativa estadísticamente, mediante un test ANOVA. Nos basaremos en un script en R para el cálculo de estos datos. En la siguiente figura podemos ver el resultado\footnote{El script se incluye también en los archivos adjuntos a la práctica.}: 

\pagebreak

\begin{figure}[htpb]
\centering
\includegraphics[height=8cm]{../../../R}
\caption{Análisis de los 4 factores.}
\end{figure}

Podemos ver que el resultado del test es que los datos son diferentes con un nivel de con confianza de casi el 100\%, ya que P(>F) es casi 0. En particular podemos afirmar que son distintos con un 95\% de nivel de confianza. 

Ahora vamos a comprobar los dos datos más parecidos, de transferencia entre los dos discos. Mediante el mismo script de R modificado para solo dos datos, tenemos el siguiente resultado (ver figura). 
  
 
\begin{figure}[htpb]
\centering
\includegraphics[height=8cm]{../../../R2}
\caption{Análisis de los 2 factores más parecidos.}
\end{figure}

\pagebreak

En este caso, podemos ver que P(>F) = 0.103, luego no estamos en condiciones de poder afirmar que son distintos con un nivel de confianza del 95\%. Por tanto, no podemos afirmar que sea distinto transferir archivos a un disco duro en el que estemos trabajando que otro con un S.O. distinto que hayamos montado. 

\end{document}